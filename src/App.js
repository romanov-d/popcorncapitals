import React, { useState } from 'react';
import { ChevronDown, ChevronUp, Book, Users, Trophy, Star } from 'lucide-react';

const Lesson = ({ title, description, duration, points, achievement }) => {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <div className="mb-4 border rounded-lg p-4">
      <div className="flex justify-between items-center cursor-pointer" onClick={() => setIsOpen(!isOpen)}>
        <h3 className="font-bold">{title}</h3>
        {isOpen ? <ChevronUp size={20} /> : <ChevronDown size={20} />}
      </div>
      <div className="flex items-center mt-2 text-sm">
        <Book size={16} className="mr-1" /> <span className="mr-4">Лекция: {duration}</span>
        <Star size={16} className="mr-1" /> <span className="mr-4">Баллы: {points}</span>
        <Trophy size={16} className="mr-1" /> <span>{achievement}</span>
      </div>
      {isOpen && (
        <div className="mt-4 text-sm">
          <p>{description}</p>
        </div>
      )}
    </div>
  );
};

const GroupCall = ({ title, description, duration, points }) => (
  <div className="mb-4 border rounded-lg p-4 bg-gray-800 text-white">
    <h3 className="font-bold">{title}</h3>
    <div className="flex items-center mt-2 text-sm">
      <Users size={16} className="mr-1" /> <span className="mr-4">Длительность: {duration}</span>
      <Star size={16} className="mr-1" /> <span>Баллы: {points}</span>
    </div>
    <p className="mt-2 text-sm">{description}</p>
  </div>
);

const Stage = ({ title, topics, callSessions }) => {
  return (
    <div className="mb-8">
      <h2 className="text-xl font-semibold mb-4">{title}</h2>
      {topics.map((topic, index) => (
        <Lesson key={index} {...topic} />
      ))}
      {callSessions && callSessions.map((session, index) => (
        <GroupCall key={index} {...session} />
      ))}
    </div>
  );
};

const PopcornCapitals = () => {
  const [activeSection, setActiveSection] = useState('base');

  const baseStages = [
    {
      title: "1. Вводный этап",
      topics: [
        {
          title: "Старт в трейдинге и инвестициях",
          description: "Введение в основные механики трейдинга и инвестирования. Обзор потенциальных возможностей заработка и рисков потерь. Базовые стратегии и подходы для начинающих.",
          duration: "1 час",
          points: 50,
          achievement: "Начинающий трейдер"
        },
        {
          title: "Какую биржу выбрать?",
          description: "Обзор популярных криптовалютных бирж, их преимущества и недостатки. Критерии выбора надежной платформы для торговли.",
          duration: "45 минут",
          points: 40,
          achievement: "Эксперт по биржам"
        },
        {
          title: "Где лучше хранить криптовалюту? Про холодные кошельки",
          description: "Различные способы хранения криптовалют, особенности холодных кошельков. Сравнение типов кошельков и лучшие практики безопасности.",
          duration: "1 час",
          points: 50,
          achievement: "Хранитель криптовалют"
        },
        {
          title: "Правила безопасности при работе с криптовалютой",
          description: "Ключевые аспекты безопасности в мире криптовалют. Лучшие практики защиты средств, использование двухфакторной аутентификации, защита от фишинга.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Эксперт по крипто-безопасности"
        },
        {
          title: "Основные риски, связанные с инвестированием в криптовалюту",
          description: "Обзор ключевых рисков на криптовалютном рынке. Волатильность, регуляторные риски, технические риски и способы их минимизации.",
          duration: "1 час",
          points: 50,
          achievement: "Осознанный инвестор"
        },
        {
          title: "Влияние новостей и событий на криптовалюту",
          description: "Как новости и глобальные события влияют на криптовалютный рынок. Анализ исторических примеров и прогнозирование реакций рынка.",
          duration: "1 час",
          points: 50,
          achievement: "Новостной аналитик"
        }
      ]
    },
    {
      title: "2. Фундаментальный анализ токенов",
      topics: [
        {
          title: "Что такое токеномика и почему она важна?",
          description: "Изучение экономики токенов, моделей распределения и их влияния на проекты. Важность понимания токеномики для оценки потенциала криптопроектов.",
          duration: "1 час",
          points: 50,
          achievement: "Токен-аналитик"
        },
        {
          title: "Что такое фундаментальный анализ в контексте криптовалют?",
          description: "Основы фундаментального анализа применительно к криптовалютам. Оценка проектов, команд, технологий и потенциала роста.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Фундаментальный аналитик"
        },
        {
          title: "Хеджирование рисков и риск-менеджмент",
          description: "Стратегии управления рисками в криптотрейдинге. Методы хеджирования, диверсификация портфеля, установка стоп-лоссов.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Мастер риск-менеджмента"
        },
        {
          title: "Чтение графиков",
          description: "Основы технического анализа. Как читать и интерпретировать ценовые графики, определение трендов и ключевых уровней.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Аналитик графиков"
        },
        {
          title: "Формирование трейдинговой стратегии. Разбор наиболее популярных стратегий",
          description: "Принципы создания успешной трейдинговой стратегии. Обзор и анализ популярных стратегий торговли на криптовалютном рынке.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Стратег-трейдер"
        },
        {
          title: "Что такое волатильность и почему она высока у криптовалют?",
          description: "Понятие волатильности и ее роль на криптовалютном рынке. Факторы, влияющие на высокую волатильность криптовалют, и как это влияет на торговлю.",
          duration: "45 минут",
          points: 40,
          achievement: "Знаток волатильности"
        },
        {
          title: "Фьючерсы, спот",
          description: "Различия между фьючерсной и спотовой торговлей. Особенности, риски и возможности каждого типа торговли.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Мастер деривативов"
        }
      ],
      callSessions: [
        {
          title: "Гeрупповой созвон: Токеномика, обзор монет",
          description: "Интерактивный созвон с игровым элементом. Участники объединяются в команды для анализа различных криптовалют, их токеномики и потенциала.",
          duration: "2 часа",
          points: 100,
        }
      ]
    },
    {
      title: "3. Этап анализа",
      topics: [
        {
          title: "Продвинутый технический анализ",
          description: "Углубленное изучение технического анализа. Боковые объемы, паттерны продолжения и разворота тренда, использование нескольких таймфреймов.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Продвинутый технический аналитик"
        },
        {
          title: "Комплексный анализ индикаторов",
          description: "Изучение и интерпретация различных технических индикаторов. Комбинирование индикаторов для более точного анализа.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Мастер индикаторов"
        },
        {
          title: "Углубленный фундаментальный анализ криптопроектов",
          description: "Детальное изучение методов фундаментального анализа криптовалютных проектов. Оценка технологии, команды, рыночной ниши и потенциала роста.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Эксперт по фундаментальному анализу"
        }
      ]
    },
    {
      title: "4. Психология в трейдинге",
      topics: [
        {
          title: "Основы психологии трейдинга",
          description: "Введение в психологические аспекты трейдинга. Эмоциональный контроль, дисциплина и принятие решений под давлением.",
          duration: "1 час",
          points: 50,
          achievement: "Психолог трейдинга"
        },
        {
          title: "Управление стрессом в трейдинге",
          description: "Методы и техники управления стрессом во время торговли. Практические упражнения для сохранения спокойствия в волатильные периоды.",
          duration: "1 час",
          points: 50,
          achievement: "Мастер самоконтроля"
        },
        {
          title: "Психология инвестирования",
          description: "Долгосрочные психологические аспекты инвестирования. Преодоление страха упущенной выгоды (FOMO) и паники продаж.",
          duration: "1 час",
          points: 50,
          achievement: "Психолог-инвестор"
        }
      ]
    }


  ];

  const proStages = [
    {
      title: "1. Продвинутый уровень",
      topics: [
        {
          title: "Как работает стратегия 'купи и держи' (buy and hold)?",
          description: "Анализ долгосрочной инвестиционной стратегии 'купи и держи', ее преимущества и недостатки в контексте криптовалют.",
          duration: "1 час",
          points: 50,
          achievement: "Долгосрочный инвестор"
        },
        {
          title: "Что такое криптовалютные фьючерсы?",
          description: "Углубленное изучение криптовалютных фьючерсов, их механизмов работы и стратегий торговли.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Фьючерсный трейдер"
        },
        {
          title: "Как работают опционы на криптовалюту?",
          description: "Углубленное изучение криптовалютных фьючерсов, их механизмов работы и стратегий торговли.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Что-то новое"
        },        {
          title: "Что такое ICO (Initial Coin Offering)?",
          description: "Углубленное изучение криптовалютных фьючерсов, их механизмов работы и стратегий торговли.",
          duration: "1,5 часа",
          points: 75,
          achievement: "ICO-Trade"
        },        {
          title: "Какие риски связаны с участием в ICO?",
          description: "Углубленное изучение криптовалютных фьючерсов, их механизмов работы и стратегий торговли.",
          duration: "1,5 часа",
          points: 75,
          achievement: "ICO"
        },        {
          title: "Чем отличаются софт-форк и хард-форк?",
          description: "Углубленное изучение криптовалютных фьючерсов, их механизмов работы и стратегий торговли.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Хард трейдер"
        },        {
          title: "Какие существуют DeFi-протоколы и как они работают?",
          description: "Углубленное изучение криптовалютных фьючерсов, их механизмов работы и стратегий торговли.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Новые протоколы"
        },        {
          title: "Что такое yield farming в DeFi?",
          description: "Углубленное изучение криптовалютных фьючерсов, их механизмов работы и стратегий торговли.",
          duration: "1,5 часа",
          points: 75,
          achievement: "DeFi-мастер"
        },        {
          title: "Что такое халвинг и как он влияет на цену криптовалюты?",
          description: "Углубленное изучение криптовалютных фьючерсов, их механизмов работы и стратегий торговли.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Халвинг trader"
        },{
          title: "Как работает Lightning Network для Bitcoin?",
          description: "Углубленное изучение криптовалютных фьючерсов, их механизмов работы и стратегий торговли.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Light"
        },{
          title: "Что такое whale alert и почему это важно для трейдеров?",
          description: "Углубленное изучение криптовалютных фьючерсов, их механизмов работы и стратегий торговли.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Reale Whale"
        },
        
        // ... (добавьте остальные темы из предоставленного списка)
      ]
    },
    {
      title: "Макроэкономика",
      topics: [
        {
          title: "Анализ бизнес циклов для долгосрочных и среднесрочных инвестиций",
          description: "Изучение экономических циклов и их влияния на криптовалютный рынок. Методы анализа и прогнозирования бизнес циклов для оптимизации долгосрочных и среднесрочных инвестиционных стратегий в криптовалюте.",
          duration: "2 часа",
          points: 100,
          achievement: "Аналитик бизнес-циклов"
        },
        {
          title: "Макроэкономические индикаторы и их применение",
          description: "Обзор ключевых макроэкономических индикаторов, их интерпретация и применение в контексте криптовалютного рынка. Практические методы использования этих индикаторов для принятия инвестиционных решений.",
          duration: "1,5 часа",
          points: 75,
          achievement: "Макроэкономический аналитик"
        },
        {
          title: "Анализ основных экономических данных",
          description: "Изучение влияния ключевых экономических показателей (потребительский спрос, инфляция, безработица) на криптовалютный рынок. Методы интерпретации этих данных для прогнозирования движений рынка.",
          duration: "2 часа",
          points: 100,
          achievement: "Эксперт по экономическим данным"
        },
        {
          title: "Федеральная резервная система и её влияние на криптовалюты",
          description: "Детальный разбор роли и функций ФРС, её монетарной политики и как решения ФРС влияют на глобальные финансы и, в частности, на рынок криптовалют.",
          duration: "2,5 часа",
          points: 125,
          achievement: "ФРС аналитик"
        },
        {
          title: "Полный разбор облигаций и их связь с криптовалютами",
          description: "Анализ рынка облигаций, включая кривую доходности, её виды, инверсии, дюрации. Изучение взаимосвязи между рынком облигаций и криптовалютным рынком.",
          duration: "3 часа",
          points: 150,
          achievement: "Облигационный эксперт"
        },
        {
          title: "Валютный рынок и его применение для криптовалют",
          description: "Изучение основ валютного рынка и его взаимосвязи с криптовалютами. Анализ влияния колебаний валютных курсов на стоимость криптовалют и стратегии хеджирования рисков.",
          duration: "2 часа",
          points: 100,
          achievement: "Валютный аналитик"
        },
        {
          title: "Мультипликаторы и их использование в криптоанализе",
          description: "Изучение финансовых мультипликаторов (P/E, ROE, EPS) и технических факторов (size, beta, correlations) применительно к криптовалютам. Методы их расчета и интерпретации для оценки криптопроектов.",
          duration: "2,5 часа",
          points: 125,
          achievement: "Эксперт по мультипликаторам"
        },
        {
          title: "Создание торговой идеи на основе макроэкономических факторов",
          description: "Практический курс по разработке торговых стратегий с учетом макроэкономических показателей и фундаментального анализа. Методология создания и тестирования торговых идей.",
          duration: "3 часа",
          points: 150,
          achievement: "Макро-трейдер"
        },
        {
          title: "Корреляции криптовалют и традиционных активов во время кризисов",
          description: "Анализ изменений корреляций между криптовалютами и традиционными активами в периоды экономической нестабильности. Стратегии диверсификации портфеля в кризисные периоды.",
          duration: "2 часа",
          points: 100,
          achievement: "Кризисный аналитик"
        },
        {
          title: "Макроэкономические факторы и долгосрочная стоимость биткоина",
          description: "Изучение ключевых макроэкономических показателей, оказывающих наибольшее влияние на долгосрочную динамику биткоина. Методы прогнозирования долгосрочной стоимости на основе макроэкономических данных.",
          duration: "2,5 часа",
          points: 125,
          achievement: "Биткоин-макроаналитик"
        },
        {
          title: "Криптовалюты и глобальное распределение богатства",
          description: "Анализ потенциального влияния криптовалют на мировое распределение богатства и экономическое неравенство. Рассмотрение сценариев развития и их последствий для глобальной экономики.",
          duration: "2 часа",
          points: 100,
          achievement: "Аналитик глобального неравенства"
        },
        {
          title: "Влияние криптомайнинга на энергетическую политику и экологию",
          description: "Изучение воздействия криптовалютного майнинга на энергетический сектор и экологическую ситуацию в глобальном масштабе. Анализ потенциальных изменений в энергетической политике стран.",
          duration: "2 часа",
          points: 100,
          achievement: "Эко-майнинг аналитик"
        },
        {
          title: "Криптовалюты и система международных переводов",
          description: "Анализ потенциального влияния криптовалют на систему международных переводов и экономику развивающихся стран. Рассмотрение возможностей и рисков для глобальной финансовой системы.",
          duration: "2 часа",
          points: 100,
          achievement: "Эксперт по международным переводам"
        },
        {
          title: "Роль криптовалют в контексте экономических санкций и геополитики",
          description: "Рассмотрение роли криптовалют в условиях международных санкций и геополитических конфликтов. Анализ потенциального использования криптовалют для обхода санкций и его последствий.",
          duration: "2,5 часа",
          points: 125,
          achievement: "Геополитический крипто-аналитик"
        },
        {
          title: "Криптовалюты и экономические циклы",
          description: "Изучение потенциального воздействия криптовалют на традиционные экономические циклы и природу финансовых кризисов. Анализ роли криптовалют в сглаживании или усилении экономических колебаний.",
          duration: "2,5 часа",
          points: 125,
          achievement: "Аналитик крипто-циклов"
        }
      ]
    },
    {
      title: "3. Продвинутая психология в трейдинге",
      topics: [
        {
          title: "Когнитивные искажения в криптотрейдинге",
          description: "Глубокий анализ когнитивных искажений, специфичных для криптовалютного трейдинга. Изучение таких явлений, как эффект подтверждения, иллюзия контроля, и чрезмерная самоуверенность в контексте высоковолатильных рынков.",
          duration: "2,5 часа",
          points: 125,
          achievement: "Мастер когнитивного анализа"
        },
        {
          title: "Эмоциональный интеллект в высоковолатильной торговле",
          description: "Развитие эмоционального интеллекта для эффективного управления стрессом и эмоциями в условиях экстремальной волатильности криптовалютного рынка. Техники саморегуляции и эмоционального контроля.",
          duration: "2 часа",
          points: 100,
          achievement: "Эмоционально интеллектуальный трейдер"
        },
        {
          title: "Психология толпы и рыночные настроения в криптосфере",
          description: "Анализ массовой психологии и её влияния на криптовалютный рынок. Изучение феноменов FOMO (страх упущенной выгоды) и FUD (страх, неуверенность и сомнение), их влияния на рыночные тренды.",
          duration: "2,5 часа",
          points: 125,
          achievement: "Аналитик рыночной психологии"
        },
        {
          title: "Психологические аспекты управления рисками в криптотрейдинге",
          description: "Исследование психологических факторов, влияющих на восприятие и управление рисками в криптовалютной торговле. Разработка персонализированных стратегий риск-менеджмента с учетом индивидуального психологического профиля.",
          duration: "2 часа",
          points: 100,
          achievement: "Психолог риск-менеджмента"
        },
        {
          title: "Преодоление страха и жадности в криптоинвестировании",
          description: "Глубокий анализ двух основных эмоциональных драйверов рынка: страха и жадности. Техники их распознавания, контроля и использования для принятия более взвешенных инвестиционных решений.",
          duration: "2 часа",
          points: 100,
          achievement: "Мастер эмоционального баланса"
        },
        {
          title: "Психология принятия решений в условиях неопределенности крипторынка",
          description: "Изучение процессов принятия решений в условиях высокой неопределенности, характерной для криптовалютного рынка. Методики улучшения качества решений в стрессовых ситуациях.",
          duration: "2,5 часа",
          points: 125,
          achievement: "Стратег неопределенности"
        },
        {
          title: "Построение психологической устойчивости к рыночным манипуляциям",
          description: "Анализ распространенных техник манипуляции на криптовалютном рынке и развитие психологической устойчивости к ним. Методы распознавания и противодействия информационным манипуляциям.",
          duration: "2 часа",
          points: 100,
          achievement: "Анти-манипуляционный эксперт"
        },
        {
          title: "Психология долгосрочного инвестирования в криптовалюты",
          description: "Исследование психологических факторов, влияющих на долгосрочное инвестирование в криптовалюты. Техники поддержания дисциплины и уверенности в периоды длительных медвежьих трендов.",
          duration: "2 часа",
          points: 100,
          achievement: "Психолог HODL"
        },
        {
          title: "Mindfulness и медитация для трейдеров криптовалют",
          description: "Применение техник осознанности и медитации для улучшения концентрации, снижения стресса и повышения качества торговых решений в высоковолатильной среде криптовалютного рынка.",
          duration: "2 часа",
          points: 100,
          achievement: "Осознанный крипто-трейдер"
        },
        {
          title: "Психологическая подготовка к экстремальным рыночным событиям",
          description: "Разработка психологических стратегий подготовки и реагирования на экстремальные события на криптовалютном рынке, такие как резкие обвалы или небывалые взлеты цен.",
          duration: "2,5 часа",
          points: 125,
          achievement: "Мастер экстремальных ситуаций"
        },
        {
          title: "Групповая психология и её влияние на принятие торговых решений",
          description: "Анализ влияния группового мышления и социальных факторов на индивидуальные торговые решения в контексте криптовалютных сообществ и форумов.",
          duration: "2 часа",
          points: 100,
          achievement: "Аналитик социальной динамики"
        },
        {
          title: "Психологические аспекты технического анализа в криптотрейдинге",
          description: "Исследование психологических факторов, лежащих в основе технического анализа, и их влияния на интерпретацию графиков и принятие торговых решений на криптовалютном рынке.",
          duration: "2,5 часа",
          points: 125,
          achievement: "Психо-технический аналитик"
        }
      ]
    }
  ];

 
  const baseCallSessions = [
    {
      title: "Групповой созвон: Обзор криптовалютного рынка",
      description: "В этом групповом созвоне мы обсудим текущую ситуацию на криптовалютном рынке, проанализируем последние тренды и ответим на ваши вопросы по пройденному материалу.",
      duration: "1,5 часа",
      points: 75,
    },
    {
      title: "Групповой созвон: Практикум по использованию криптовалютных бирж",
      description: "Этот созвон будет посвящен практическому использованию криптовалютных бирж. Мы разберем типичные сценарии торговли и ответим на ваши вопросы по работе с биржами.",
      duration: "2 часа",
      points: 100,
    },
    {
      title: "Групповой созвон: Разбор стратегий безопасности",
      description: "На этом созвоне мы глубже погрузимся в тему безопасности при работе с криптовалютами. Мы обсудим реальные кейсы, проанализируем распространенные ошибки и разберем лучшие практики защиты ваших активов.",
      duration: "2 часа",
      points: 100,
    },
  ];

  return (
    <div className="p-4 max-w-3xl mx-auto">
      <div className="flex items-center justify-center mb-4">
        <svg 
          width="40" 
          height="40" 
          viewBox="0 0 100 100" 
          className="mr-2"
        >
          <rect width="100" height="100" rx="20" fill="#8B5CF6" />
          <path d="M30 70 L50 30 L70 70 Z" fill="#FFFFFF" />
          <circle cx="50" cy="45" r="8" fill="#FFFFFF" />
        </svg>
        <h1 className="text-2xl font-bold">Popcorn Capitals</h1>
      </div>
      
      <div className="mb-4">
        <button 
          className={`mr-2 px-4 py-2 rounded ${activeSection === 'base' ? 'bg-purple-500 text-white' : 'bg-gray-200'}`}
          onClick={() => setActiveSection('base')}
        >
          Base
        </button>
        <button 
          className={`px-4 py-2 rounded ${activeSection === 'pro' ? 'bg-purple-500 text-white' : 'bg-gray-200'}`}
          onClick={() => setActiveSection('pro')}
        >
          Pro
        </button>
      </div>
      
      {activeSection === 'base' && (
        <>
          <h2 className="text-xl font-semibold mb-4">Popcorn Capitals Base</h2>
          {baseStages.map((stage, index) => (
            <Stage key={index} {...stage} />
          ))}
          <h2 className="text-xl font-semibold my-4">Групповые созвоны</h2>
          {baseCallSessions.map((session, index) => (
            <GroupCall key={index} {...session} />
          ))}
        </>
      )}
      
      {activeSection === 'pro' && (
        <>
          <h2 className="text-xl font-semibold mb-4">Popcorn Capitals Pro</h2>
          {proStages.map((stage, index) => (
            <Stage key={index} {...stage} />
          ))}
        </>
      )}
    </div>
  );
};

export default PopcornCapitals;